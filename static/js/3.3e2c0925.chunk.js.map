{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","onChange","e","target","value","onBlur","updateStatus","autoFocus","type","onDoubleClick","Input","ElementCreator","Textarea","ProfileDataFormRedux","reduxForm","form","handleSubmit","profile","error","onSubmit","className","styles","totalError","Field","name","component","placeholder","Object","keys","contacts","map","key","ProfileData","isOwner","goToEditMode","onClick","lookingForAJob","lookingForAJobDescription","aboutMe","contactTitle","contactValue","Contact","contact","ProfileInfo","savePhoto","saveProfile","Preloader","s","descriptionBlock","fullName","src","photos","large","incognitoAvatar","files","length","initialValues","formData","then","Post","item","message","likesCount","maxLength10","maxLength","NewPostFormRedux","validate","required","MyPosts","React","memo","postsElements","posts","p","id","postsBlock","values","addPost","newPostText","MyPostsContainer","connect","state","profilePage","Profile","ProfileContainer","userId","this","match","params","authorizedUserId","history","push","getUserProfile","getStatus","setUpdateProfileFlow","prevProps","prevState","snapshot","Component","compose","auth","withRouter"],"mappings":"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","file":"static/js/3.3e2c0925.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__36DSU\",\"socialNetworkIconsBlock\":\"ProfileInfo_socialNetworkIconsBlock__1oh3-\",\"contact\":\"ProfileInfo_contact__1L1VE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__23VEV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1_fQP\"};","import React, {useEffect, useState} from \"react\";\r\n\r\nlet ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(()=>{\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.target.value);\r\n    }\r\n\r\n    return <div>\r\n        {!editMode\r\n            ? <div>\r\n                <b>Status: </b><span onDoubleClick={activateEditMode}>{props.status || '-----'}</span>\r\n            </div>\r\n            : <div>\r\n                <b>Status: </b><input onChange={onStatusChange} onBlur={deactivateEditMode} autoFocus={true}\r\n                       value={status} type='text'/>\r\n            </div>}\r\n    </div>\r\n\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {ElementCreator} from \"../../../common/FormControls/FormControl\";\r\nimport styles from \"../../../common/FormControls/FormControl.module.css\";\r\n\r\nconst Input = ElementCreator(\"input\");\r\nconst Textarea = ElementCreator(\"textarea\");\r\n\r\nconst ProfileDataForm = ({handleSubmit, profile, error}) => {\r\n    return <form onSubmit={handleSubmit}>\r\n        <br/>\r\n        {error && <div className={styles.totalError}>\r\n            {error}\r\n        </div>}\r\n        <div>\r\n            <b>Full name:</b> <Field name='fullName' component={Input} placeholder={'Full name'}/>\r\n        </div>\r\n        <div>\r\n            <b>Looking for a job:</b> <Field name='lookingForAJob' component='input' type='checkbox'\r\n                                             placeholder={'Looking for a job'}/>\r\n        </div>\r\n        <div>\r\n            <b>My professional skills:</b> <Field name='lookingForAJobDescription' component={Textarea}\r\n                                                  placeholder={'My professional skills'}/>\r\n        </div>\r\n        <div>\r\n            <b>About me:</b> <Field name='aboutMe' component={Textarea} placeholder={'About me'}/>\r\n        </div>\r\n        <div>\r\n            <b>Socials: </b>{Object.keys(profile.contacts).map(key => {\r\n                return <div key={key} >\r\n                    <b>{key}</b>\r\n                    <div><Field name={'contacts.'+key} component='input' placeholder={key}/></div>\r\n                </div>\r\n            }\r\n        )}\r\n        </div>\r\n        <button>Save</button>\r\n    </form>\r\n}\r\n\r\nconst ProfileDataFormRedux = reduxForm({form: 'editProfile'})(ProfileDataForm);\r\n\r\nexport default ProfileDataFormRedux;","import React, {useState} from \"react\";\r\nimport s from './ProfileInfo.module.css';\r\nimport styles from './ProfileInfo.module.css';\r\nimport Preloader from \"../../../common/Preloader/Preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport incognitoAvatar from \"../../../assets/images/incognitoAvatar.png\";\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\n\r\nconst ProfileInfo = ({profile, status, updateStatus, isOwner, savePhoto, saveProfile}) => {\r\n\r\n    const [editMode, setEditMode] = useState(false);\r\n\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    const onMainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            savePhoto(e.target.files[0]);\r\n        }\r\n    }\r\n\r\n    // Здесь мы задиспатчили, дальше ждем, пока зарезолвится промис, а потом уже меняем editMode на false\r\n    const onSubmit = (formData) => {\r\n        saveProfile(formData).then(()=>{\r\n            setEditMode(false);\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.descriptionBlock}>\r\n                <b>{profile.fullName}</b><br/>\r\n                <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n                <img src={profile.photos.large || incognitoAvatar}/>\r\n                {isOwner && <input onChange={onMainPhotoSelected} type=\"file\"/>}\r\n\r\n                {editMode\r\n                    ? <ProfileDataForm initialValues={profile} profile={profile} onSubmit={onSubmit} />\r\n                    : <ProfileData profile={profile} isOwner={isOwner} goToEditMode={() => {\r\n                        setEditMode(true)\r\n                    }}/>}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst ProfileData = ({profile, isOwner, goToEditMode}) => {\r\n    return <div>\r\n        {isOwner && <div>\r\n            <button onClick={goToEditMode}>Edit profile info</button>\r\n        </div>}\r\n        <div>\r\n            <b>Looking for a job: </b>{profile.lookingForAJob ? 'yes' : 'no'}\r\n        </div>\r\n        {profile.lookingForAJob && <div>\r\n            <b>My professional skills: </b>{profile.lookingForAJobDescription}\r\n        </div>}\r\n        <div>\r\n            <b>About me: </b>{profile.aboutMe}\r\n        </div>\r\n        <div>\r\n            <b>Socials: </b>{Object.keys(profile.contacts).map(key => {\r\n                return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]}/>\r\n            }\r\n        )}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nconst Contact = ({contactTitle, contactValue}) => {\r\n    return <div className={styles.contact}><b>{contactTitle}: </b>{contactValue}</div>\r\n}\r\n\r\nexport default ProfileInfo;","import React from \"react\";\r\nimport s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={s.item}>\r\n            <img\r\n                src='https://w7.pngwing.com/pngs/178/419/png-transparent-man-illustration-computer-icons-avatar-login-user-avatar-child-web-design-face-thumbnail.png'/>\r\n            {props.message}\r\n            <div>\r\n                <span>like</span> {props.likesCount}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default Post;","import React from \"react\";\r\nimport s from './MyPosts.module.css';\r\nimport Post from \"./Post/Post\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLength, required} from \"../../../utils/validators/validators\";\r\nimport {ElementCreator} from '../../../common/FormControls/FormControl'\r\n\r\nconst maxLength10 = maxLength(10);\r\nconst Textarea = ElementCreator(\"textarea\");\r\n\r\nconst NewPostForm = (props) => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div>\r\n            <Field name='newPostText' component={Textarea} validate={[required, maxLength10]}\r\n                   placeholder='Enter post message'/>\r\n        </div>\r\n        <div>\r\n            <button>Add post</button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst NewPostFormRedux = reduxForm({form: 'newPost'})(NewPostForm);\r\n\r\nconst MyPosts = React.memo(props => {\r\n    let postsElements = props.posts.map(p => <Post key={p.id} message={p.message}\r\n                                                   likesCount={p.likesCount}/>)\r\n\r\n    let addPost = (values) => {\r\n        props.addPost(values.newPostText);\r\n    }\r\n\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <h3>My posts</h3>\r\n            <NewPostFormRedux onSubmit={addPost}/>\r\n            <div className={s.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default MyPosts;","import React from \"react\";\r\nimport {addPost, addPostCreator, updateNewPostTextCreator} from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, {addPost})(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\nlet Profile = (props) => {\r\n    return <div>\r\n        <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}\r\n                     isOwner={props.isOwner} savePhoto={props.savePhoto} saveProfile={props.saveProfile}/>\r\n        <MyPostsContainer/>\r\n    </div>\r\n\r\n}\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, savePhoto, saveProfile, updateStatus} from \"../../redux/profile-reducer\";\r\nimport Profile from \"./Profile\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n    setUpdateProfileFlow() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId) {\r\n                this.props.history.push('/login');\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setUpdateProfileFlow();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId)\r\n            this.setUpdateProfileFlow();\r\n    }\r\n\r\n    render() {\r\n        return <Profile {...this.props}\r\n                        savePhoto={this.props.savePhoto}\r\n                        saveProfile={this.props.saveProfile}\r\n                        isOwner={!this.props.match.params.userId}\r\n                        profile={this.props.profile}\r\n                        status={this.props.status}\r\n                        updateStatus={this.props.updateStatus}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        authorizedUserId: state.auth.userId\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile}),\r\n    withRouter\r\n)(ProfileContainer);"],"sourceRoot":""}